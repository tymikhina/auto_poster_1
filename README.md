# Auto Poster Generator

Автоматическая генерация стильных постеров автомобилей с техническими характеристиками.

Данные парсятся с сайта automobile-catalog.com

## Установка

```bash
pip install -r requirements.txt
```

## Требования

- Python 3.8+
- Google Chrome (последняя версия)
- Windows / Linux / MacOS

## Использование

### Командная строка

```bash
python auto_poster_v2.py "Бренд Модель"
```

### Примеры запросов

```bash
# Простые запросы
python auto_poster_v2.py "Bugatti Chiron"
python auto_poster_v2.py "BMW M3"
python auto_poster_v2.py "Audi TT RS"

# Точные запросы с номером модели и поколением
python auto_poster_v2.py "Porsche Panamera 2nd-gen (model 971)"
python auto_poster_v2.py "Porsche 911 Turbo (992)"
python auto_poster_v2.py "Jaguar F-Type phase-I Convertible AWD"
python auto_poster_v2.py "Mercedes-AMG C63 Coupe"
```

### Интерактивный режим

```bash
python auto_poster_v2.py
```

Введите модель в открывшейся консоли.

## Формат запроса

Для точного поиска используйте:

| Элемент | Пример | Описание |
|---------|--------|----------|
| Бренд | `Porsche`, `BMW` | Обязательно |
| Модель | `Panamera`, `M3` | Обязательно |
| Поколение | `2nd-gen`, `phase-I`, `1st` | Опционально |
| Номер модели | `971`, `992`, `G80` | Опционально, высокий приоритет |
| Тип кузова | `Convertible`, `Coupe`, `Sedan` | Опционально |
| Привод | `AWD`, `RWD` | Опционально |

**Пример точного запроса:**
```
Porsche Panamera 2nd-gen. phase-I Executive (LWB) liftback (model 971)
```

## Первый запуск

1. Откроется браузер Chrome
2. Пройдите капчу Cloudflare (если появится) — ~1 минута
3. Cookies сохранятся автоматически
4. При следующих запусках капча не потребуется

## Как работает

```
┌─────────────────────────────────────────────────────────────┐
│  1. ПОИСК МОДЕЛИ                                            │
│     - Открывает список моделей бренда                       │
│     - Ищет точное совпадение по номеру модели (971, 992)    │
│     - Учитывает поколение (1st, 2nd, phase-I, phase-II)     │
│     - Учитывает тип кузова и привод                         │
├─────────────────────────────────────────────────────────────┤
│  2. ФОТО                                                    │
│     - Берёт фото НАПРОТИВ названия модели на странице       │
│     - Приоритет: вид спереди/сбоку                          │
├─────────────────────────────────────────────────────────────┤
│  3. ХАРАКТЕРИСТИКИ                                          │
│     - Переходит на детальную страницу /car/                 │
│     - Парсит: Engine, Power, Torque, Weight, 0-100, Top Speed│
├─────────────────────────────────────────────────────────────┤
│  4. ГЕНЕРАЦИЯ ПОСТЕРА                                       │
│     - Удаляет фон с фото (rembg)                            │
│     - Создаёт постер в премиум стиле                        │
│     - Добавляет флаг страны бренда                          │
│     - Сохраняет в папку posters/                            │
└─────────────────────────────────────────────────────────────┘
```

## Дизайн постера

```
┌──────────────────────────────────────┐
│ ┌──────────────────────────────────┐ │  <- Чёрная рамка
│ │ PORSCHE              (серый)     │ │
│ │ PANAMERA             (чёрный)    │ │
│ │ ┌────────────────────────────┐   │ │
│ │ │                            │   │ │  <- Серый фон
│ │ │      [СИЛУЭТ АВТО]         │   │ │
│ │ │                            │   │ │
│ │ └────────────────────────────┘   │ │
│ │                                  │ │
│ │ YEAR │ Engine  4.0L    0-100 4.2s│ │
│ │ 2017 │ Power   550 PS  Top  306  │ │
│ │      │ Torque  770 Nm       km/h │ │
│ │      │ Weight  2050 kg   🇩🇪     │ │
│ └──────────────────────────────────┘ │
└──────────────────────────────────────┘
```

## Структура проекта

```
auto_poster/
├── auto_poster_v2.py      # Основной скрипт
├── requirements.txt       # Зависимости
├── .gitignore             # Игнорируемые файлы
├── README.md              # Документация
└── posters/               # Готовые постеры (создаётся автоматически)
```

## Зависимости

- `undetected-chromedriver` — автоматизация браузера с обходом защиты
- `beautifulsoup4` + `lxml` — парсинг HTML
- `Pillow` — генерация изображений
- `rembg` — удаление фона с фотографий
- `requests` — загрузка данных

## Поддерживаемые бренды

Флаги стран определяются автоматически:

| Страна | Бренды |
|--------|--------|
| Германия | Audi, BMW, Mercedes-Benz, AMG, Volkswagen, Porsche, Opel |
| Япония | Toyota, Honda, Nissan, Mazda, Subaru, Mitsubishi, Lexus, Infiniti |
| США | Ford, Chevrolet, Dodge, Jeep, Cadillac, Tesla, Lincoln |
| Италия | Ferrari, Lamborghini, Maserati, Alfa Romeo, Fiat |
| Франция | Renault, Peugeot, Citroen, Bugatti |
| Великобритания | Jaguar, Bentley, McLaren, Lotus, Aston Martin, Rolls-Royce, Land Rover, Mini |
| Швеция | Volvo, Koenigsegg |
| Южная Корея | Hyundai, Kia, Genesis |

## Устранение неполадок

| Проблема | Решение |
|----------|---------|
| Капча постоянно появляется | Удалите `cookies.json` и пройдите капчу заново |
| Не удаляется фон | Установите `rembg`: `pip install rembg` |
| Не находит модель | Используйте номер модели (971, 992) для точного поиска |
| Выбирает не ту модель | Добавьте номер поколения: `2nd-gen`, `phase-I` |

## Автор

